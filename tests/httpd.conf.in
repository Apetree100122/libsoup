# http.conf used for testing auth-test

ServerName 127.0.0.1
Listen 127.0.0.1:47524

PidFile @builddir@/httpd.pid
ErrorLog /dev/null

LoadModule alias_module       @APACHE_MODULE_DIR@/mod_alias.so
LoadModule auth_basic_module  @APACHE_MODULE_DIR@/mod_auth_basic.so
LoadModule auth_digest_module @APACHE_MODULE_DIR@/mod_auth_digest.so
LoadModule authn_file_module  @APACHE_MODULE_DIR@/mod_authn_file.so
LoadModule authz_user_module  @APACHE_MODULE_DIR@/mod_authz_user.so
LoadModule dir_module         @APACHE_MODULE_DIR@/mod_dir.so

DirectoryIndex httpd.pid

Alias /Basic/realm1/realm2/realm1 @builddir@
Alias /Basic/realm1/realm2 @builddir@
Alias /Basic/realm1/subdir @builddir@
Alias /Basic/realm1/not @builddir@
Alias /Basic/realm1 @builddir@
Alias /Basic/realm2 @builddir@
Alias /Basic/realm3 @builddir@

<Location /Basic/realm1>
  AuthType Basic
  AuthName realm1
  AuthUserFile @srcdir@/htpasswd
  Require user user1
</Location>

<Location /Basic/realm1/not>
  AuthType Basic
  AuthName realm1
  AuthUserFile @srcdir@/htpasswd
  Require user user2
</Location>

<Location /Basic/realm1/realm2>
  AuthType Basic
  AuthName realm2
  AuthUserFile @srcdir@/htpasswd
  Require user user2
</Location>

<Location /Basic/realm1/realm2/realm1>
  AuthType Basic
  AuthName realm1
  AuthUserFile @srcdir@/htpasswd
  Require user user1
</Location>

<Location /Basic/realm2>
  AuthType Basic
  AuthName realm2
  AuthUserFile @srcdir@/htpasswd
  Require user user2
</Location>

<Location /Basic/realm3>
  AuthType Basic
  AuthName realm3
  AuthUserFile @srcdir@/htpasswd
  Require user user3
</Location>


Alias /Digest/realm1/realm2/realm1 @builddir@
Alias /Digest/realm1/realm2 @builddir@
Alias /Digest/realm1/subdir @builddir@
Alias /Digest/realm1/not @builddir@
Alias /Digest/realm1 @builddir@
Alias /Digest/realm2 @builddir@
Alias /Digest/realm3 @builddir@

<Location /Digest/realm1>
  AuthType Digest
  AuthName realm1
  AuthUserFile @srcdir@/htdigest
  AuthDigestDomain /Digest/realm1 /Digest/realm1/realm2/realm1
  Require valid-user
</Location>

<Location /Digest/realm1/not>
  AuthType Digest
  AuthName realm1
  AuthUserFile @srcdir@/htdigest
  AuthDigestDomain /Digest/realm1 /Digest/realm1/realm2/realm1
  Require user user2
</Location>

<Location /Digest/realm1/realm2>
  AuthType Digest
  AuthName realm2
  AuthUserFile @srcdir@/htdigest
  AuthDigestDomain /Digest/realm2 /Digest/realm1/realm2
  Require valid-user
</Location>

<Location /Digest/realm1/realm2/realm1>
  AuthType Digest
  AuthName realm1
  AuthUserFile @srcdir@/htdigest
  AuthDigestDomain /Digest/realm1 /Digest/realm1/realm2/realm1
  Require valid-user
</Location>

<Location /Digest/realm2>
  AuthType Digest
  AuthName realm2
  AuthUserFile @srcdir@/htdigest
  AuthDigestDomain /Digest/realm2 /Digest/realm1/realm2
  Require valid-user
</Location>

<Location /Digest/realm3>
  AuthType Digest
  AuthName realm3
  AuthUserFile @srcdir@/htdigest
  AuthDigestDomain /Digest/realm3
  Require valid-user
</Location>

